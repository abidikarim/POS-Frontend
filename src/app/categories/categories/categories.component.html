<form class="flex gap-2 my-4" [formGroup]="searchForm">
    <p-inputgroup styleClass="flex-1">
        <p-inputgroup-addon>
            <i class="pi pi-search"></i>
        </p-inputgroup-addon>
        <input pInputText placeholder="Category name" formControlName="name" />
    </p-inputgroup>
    <p-button label="Add category" icon="pi pi-plus" (onClick)="showAddDialog()" />
</form>
<p-table [value]="categories" stripedRows [paginator]="true" [rows]="rows" [rowsPerPageOptions]="[5,10,50,100]"
    [showCurrentPageReport]="true" [totalRecords]="total_records" [loading]="loading" (onPage)="onPageChanged($event)"
    [lazy]="true">
    <ng-template #header>
        <tr>
            <th>Icon</th>
            <th>Name</th>
            <th>Description</th>
            <th class="text-center">Actions</th>
        </tr>
    </ng-template>
    <ng-template #body let-category>
        <tr>
            <td>
                <div class="icon-container">
                    <p-image [src]="category.image_link" alt="Icon" width="150" height="100" [preview]="true" />
                </div>
            </td>
            <td>{{category.name}}</td>
            <td>{{category.description}}</td>
            <td>
                <div class="flex justify-content-center gap-1">
                    <p-button icon="pi pi-pen-to-square" (onClick)="showEditDialog(category)" />
                    <p-button icon="pi pi-trash" severity="danger" (onClick)="deleteDialog($event,category.id)" />
                </div>
            </td>
        </tr>
    </ng-template>
</p-table>