<form [formGroup]="editForm">
    <div class="flex gap-2 mb-3">
        <div class="flex-1">
            <label for="first_name" class="block mb-2 font-bold">First name</label>
            <input pInputText id="first_name" class="w-full" formControlName="first_name" />
            <div>
                @if (editForm.invalid && (editForm.controls['first_name']).touched ||
                editForm.controls['first_name'].dirty) {
                @if (editForm.controls['first_name'].errors?.['required']){
                <small class="text-red-500">First name is required</small>
                }}
            </div>
        </div>
        <div class="flex-1">
            <label for="last_name" class="block mb-2 font-bold">Last name</label>
            <input pInputText class="w-full" id="last_name" formControlName="last_name" />
            <div>
                @if (editForm.invalid && (editForm.controls['last_name']).touched ||
                editForm.controls['last_name'].dirty)
                {
                @if (editForm.controls['last_name'].errors?.['required']){
                <small class="text-red-500">Last name is required</small>
                }}
            </div>
        </div>
    </div>
    <div class="flex gap-2 mb-3">
        <div class="flex-1">
            <label for="email" class="block mb-2 font-bold">Email</label>
            <input pInputText id="email" class="w-full" formControlName="email" />
            <div>
                @if (editForm.invalid && (editForm.controls['email']).touched || editForm.controls['email'].dirty) {
                @if (editForm.controls['email'].errors?.['required']) {
                <small class="text-red-500">Email is required</small>
                }@else if (editForm.controls['email'].errors?.['invalidEmail']){
                <small class="text-red-500">Invalid email</small>
                }
                }
            </div>
        </div>
        <div class="flex-1">
            <label for="number" class="block mb-2 font-bold">Number</label>
            <p-inputNumber inputId="number" formControlName="number" styleClass="w-full" class="w-full"></p-inputNumber>
            <div>
                @if (editForm.invalid && (editForm.controls['number']).touched || editForm.controls['number'].dirty)
                {
                @if (editForm.controls['number'].errors?.['required']){
                <small class="text-red-500">Number is required</small>
                }@else if (editForm.controls['number'].errors?.['min']) {
                <small class="text-red-500">Number should be positive.</small>
                }
                }
            </div>
        </div>
    </div>
    <div class="flex gap-2 mb-3">
        <div class="flex-1">
            <label for="email" class="block mb-2 font-bold">Birth date</label>
            <p-datepicker [iconDisplay]="'input'" [showIcon]="true" inputId="icondisplay" styleClass="w-full"
                formControlName="birth_date" dateFormat="yy.mm.dd" [appendTo]="'body'" />
        </div>
        <div class="flex-1">
            <label for="number" class="block mb-2 font-bold">Address</label>
            <input pInputText id="number" class="w-full" formControlName="address" />
        </div>
    </div>
    <div class="flex gap-2 mb-3">
        <div class="flex-1">
            <label for="cnss_number" class="block mb-2 font-bold">Cnss number</label>
            <input pInputText id="cnss_number" class="w-full" formControlName="cnss_number" />
            <div>
                @if (editForm.invalid && (editForm.controls['cnss_number']).touched ||
                editForm.controls['cnss_number'].dirty)
                {
                @if (editForm.controls['cnss_number'].errors?.['invalidCnss']) {
                <small class="text-red-500"> Cnss number format should be 8 digits-2 digites e.g 12345678-12.</small>
                }}
                @if (editForm.errors?.['requiredCnss']) {
                <small class="text-red-500">Cnss number is required for Cdi or Cdd</small>
                }
            </div>
        </div>
        <div class="flex-1">
            <label for="phone" class="block mb-2 font-bold">Phone</label>
            <input pInputText id="phone" class="w-full" formControlName="phone_number" />
        </div>
    </div>
    <div class="flex gap-2 mb-3">
        <div class="flex-1">
            <label for="password" class="block mb-2 font-bold">Password</label>
            <p-password [feedback]="false" [toggleMask]="true" id="password" formControlName="password"
                inputStyleClass="w-full" styleClass="w-full" />
        </div>
        <div class="flex-1">
            <label for="confirm_password" class="block mb-2 font-bold">Confirm password</label>
            <p-password [feedback]="false" [toggleMask]="true" id="confirm_password" formControlName="confirm_password"
                inputStyleClass="w-full" styleClass="w-full" />
            <div>
                @if (editForm.errors?.['invalidConfirmPassword']){
                <small class="text-red-500">Passwords do not match</small>
                }
            </div>
        </div>
    </div>
    <div class="mb-3 flex gap-2">
        <div>
            <label for="gender" class="block mb-2 font-bold">Gender</label>
            <p-selectbutton [options]="gender" optionLabel="label" optionValue="value" formControlName="gender" />
            <div>
                @if (editForm.invalid && (editForm.controls['gender']).touched || editForm.controls['gender'].dirty)
                {
                @if (editForm.controls['gender'].errors?.['required']){
                <small class="text-red-500">Gender is required</small>
                }}
            </div>
        </div>
        <div>
            <label for="contract" class="block mb-2 font-bold">Contract type</label>
            <p-selectbutton [options]="contracts" optionLabel="label" optionValue="value"
                formControlName="contract_type" />
            <div>
                @if (editForm.invalid && (editForm.controls['contract_type']).touched ||
                editForm.controls['contract_type'].dirty)
                {
                @if ( editForm.controls['contract_type'].errors?.['required']){
                <small class="text-red-500">Contract type is required</small>
                }
                }
            </div>
        </div>
    </div>
    <div class="mb-3">
        <label for="roles" class="block mb-2 font-bold">Roles</label>
        <p-selectbutton [options]="roles" optionLabel="label" optionValue="value" aria-labelledby="basic"
            [multiple]="true" formControlName="roles" />
        <div>
            @if (editForm.invalid && (editForm.controls['roles']).touched || editForm.controls['roles'].dirty)
            {
            @if ( editForm.controls['roles'].errors?.['required']){
            <small class="text-red-500">Role is required</small>
            }
            }
        </div>
    </div>
    <div class="text-center">
        <p-button label="Edit" [loading]="loading" (onClick)="onSubmit()" />
    </div>
</form>